{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\andre\\\\weather-app\\\\src\\\\App.js\";\nimport \"./App.css\";\nimport Mainside from \"./Components/mainside/mainside.js\";\nimport Secondside from \"./Components/secondside/secondside\";\nimport React, { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.onLocationState = () => {\n      let lat = this.state.lat;\n      let lon = this.state.lon;\n      const key = \"fd3b081fa5f1791533d9fa25f99be333\";\n      const urlfor = \"https://api.openweathermap.org/data/3.0/onecall?lat=\" + lat + \"&lon=\" + lon + \"&exclude=hourly,minutely&appid=\" + key + \"&units=metric\";\n      fetch(urlfor).then(res => res.json()).then(res => {\n        const current = this.state.data.concat([res.current]);\n        const filtercurrent = current.filter(filtred => res.current === filtred);\n        const daily = this.state.dataForecast.concat([res.daily]);\n        const filterdaily = daily.filter(filtred => res.daily === filtred);\n        let objectkey = filterdaily[Object.keys(filterdaily)[0]];\n        this.setState({\n          data: filtercurrent,\n          dataForecast: objectkey\n        });\n        console.log(filtercurrent);\n      }).catch(error => console.log(error, \"Some error here with API Location\"));\n    };\n    this.handleLocation = () => {\n      const key = \"fd3b081fa5f1791533d9fa25f99be333\";\n      const url = \"http://api.openweathermap.org/data/2.5/weather?q=\" + this.state.locationState + \"&appid=\" + key + \"&units=metric\";\n      fetch(url).then(res => res.json()).then(res => {\n        const coord = this.state.data.concat([res.coord]);\n        const filterCoord = coord.filter(filtred => res.coord === filtred);\n        this.setState({\n          lat: filterCoord[0].lat,\n          lon: filterCoord[0].lon\n        });\n      }).catch(error => console.log(error, \"Some error here with API Location\"));\n    };\n    this.handleGeolocation = () => {\n      navigator.geolocation.getCurrentPosition(position => {\n        const API_KEY = \"fd3b081fa5f1791533d9fa25f99be333\";\n        const lat = position.coords.latitude;\n        const lng = position.coords.longitude;\n        const url = `http://api.openweathermap.org/geo/1.0/reverse?lat=${lat}&lon=${lng}&limit=1&appid=${API_KEY}`;\n        fetch(url).then(res => {\n          return res.json();\n        }).then(res => {\n          let locationCity = res[0].name + \", \" + res[0].country;\n          this.setState({\n            locationState: locationCity\n          });\n        }).catch(error => console.log(error, \"Some error here with Geolocation Finder\"));\n      });\n    };\n    this.state = {\n      dataForecast: [],\n      data: [],\n      locationState: \"Bucharest\",\n      lat: \"44.4361414\",\n      lon: \"26.1027202\"\n    };\n    this.onSubmitHandler = this.onSubmitHandler.bind(this);\n    this.handleLocation = this.handleLocation.bind(this);\n    this.onChangeHandler = this.onChangeHandler.bind(this);\n    this.onLocationState = this.onLocationState.bind(this);\n    this.handleGeolocation = this.handleGeolocation.bind(this);\n    this.onLocationState = this.onLocationState.bind(this);\n  }\n  onChangeHandler(event) {\n    this.setState({\n      locationState: event.target.value\n    });\n  }\n  onSubmitHandler(e) {\n    e.preventDefault();\n    this.handleLocation();\n    this.onLocationState();\n  }\n  componentDidMount() {\n    this.handleLocation();\n    this.handleGeolocation();\n    this.onLocationState();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Mainside, {\n        data: this.state.data,\n        locationState: this.state.locationState,\n        onSubmit: this.onSubmitHandler.bind(this),\n        onChangeEvent: this.onChangeHandler.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Secondside, {\n        dataForecast: this.state.dataForecast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["Mainside","Secondside","React","Component","App","constructor","props","onLocationState","lat","state","lon","key","urlfor","fetch","then","res","json","current","data","concat","filtercurrent","filter","filtred","daily","dataForecast","filterdaily","objectkey","Object","keys","setState","console","log","catch","error","handleLocation","url","locationState","coord","filterCoord","handleGeolocation","navigator","geolocation","getCurrentPosition","position","API_KEY","coords","latitude","lng","longitude","locationCity","name","country","onSubmitHandler","bind","onChangeHandler","event","target","value","e","preventDefault","componentDidMount","render"],"sources":["C:/Users/andre/weather-app/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport Mainside from \"./Components/mainside/mainside.js\";\nimport Secondside from \"./Components/secondside/secondside\";\nimport React, { Component } from \"react\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataForecast: [],\n      data: [],\n      locationState: \"Bucharest\",\n      lat: \"44.4361414\",\n      lon: \"26.1027202\",\n    };\n\n    this.onSubmitHandler = this.onSubmitHandler.bind(this);\n    this.handleLocation = this.handleLocation.bind(this);\n    this.onChangeHandler = this.onChangeHandler.bind(this);\n    this.onLocationState = this.onLocationState.bind(this);\n    this.handleGeolocation = this.handleGeolocation.bind(this);\n    this.onLocationState = this.onLocationState.bind(this);\n  }\n\n  onChangeHandler(event) {\n    this.setState({\n      locationState: event.target.value,\n    });\n  }\n\n  onSubmitHandler(e) {\n    e.preventDefault();\n    this.handleLocation();\n    this.onLocationState();\n  }\n\n  onLocationState = () => {\n    let lat = this.state.lat;\n    let lon = this.state.lon;\n    const key = \"fd3b081fa5f1791533d9fa25f99be333\";\n        const urlfor = \"https://api.openweathermap.org/data/3.0/onecall?lat=\" + \n        lat + \"&lon=\" + lon + \"&exclude=hourly,minutely&appid=\" + key + \"&units=metric\";\n    fetch(urlfor)\n      .then((res) => res.json())\n      .then((res) => {\n        const current = this.state.data.concat([res.current]);\n        const filtercurrent = current.filter(\n          (filtred) => res.current === filtred\n        );\n        const daily = this.state.dataForecast.concat([res.daily]);\n        const filterdaily = daily.filter((filtred) => res.daily === filtred);\n        let objectkey = filterdaily[Object.keys(filterdaily)[0]];\n\n        this.setState({\n          data: filtercurrent,\n          dataForecast: objectkey,\n        });\n        console.log(filtercurrent);\n      })\n      .catch((error) =>\n        console.log(error, \"Some error here with API Location\")\n      );\n  };\n\n  handleLocation = () => {\n    const key = \"fd3b081fa5f1791533d9fa25f99be333\";\n    const url =\n      \"http://api.openweathermap.org/data/2.5/weather?q=\" +\n      this.state.locationState +\n      \"&appid=\" +\n      key +\n      \"&units=metric\";\n    fetch(url)\n      .then((res) => res.json())\n      .then((res) => {\n        const coord = this.state.data.concat([res.coord]);\n        const filterCoord = coord.filter((filtred) => res.coord === filtred);\n        this.setState({\n          lat: filterCoord[0].lat,\n          lon: filterCoord[0].lon,\n        });\n      })\n      .catch((error) =>\n        console.log(error, \"Some error here with API Location\")\n      );\n  };\n  handleGeolocation = () => {\n    navigator.geolocation.getCurrentPosition((position) => {\n      const API_KEY = \"fd3b081fa5f1791533d9fa25f99be333\";\n      const lat = position.coords.latitude;\n      const lng = position.coords.longitude;\n      const url = `http://api.openweathermap.org/geo/1.0/reverse?lat=${lat}&lon=${lng}&limit=1&appid=${API_KEY}`;\n      fetch(url)\n        .then((res) => {\n          return res.json();\n        })\n        .then((res) => {\n          let locationCity = res[0].name + \", \" + res[0].country;\n          this.setState({\n            locationState: locationCity,\n          });\n        })\n        .catch((error) =>\n          console.log(error, \"Some error here with Geolocation Finder\")\n        );\n    });\n  };\n\n  componentDidMount() {\n    this.handleLocation();\n    this.handleGeolocation();\n    this.onLocationState();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Mainside\n          data={this.state.data}\n          locationState={this.state.locationState}\n          onSubmit={this.onSubmitHandler.bind(this)}\n          onChangeEvent={this.onChangeHandler.bind(this)}\n        />\n        <Secondside dataForecast={this.state.dataForecast} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}